<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projekt Ei: HardwareLife/Lcd/ESP32_TFT_library/components/spidriver/spi_master_lobo.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projekt Ei
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('spi__master__lobo_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spi_master_lobo.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/semphr.h&quot;</code><br />
<code>#include &quot;soc/spi_struct.h&quot;</code><br />
<code>#include &quot;esp_intr_alloc.h&quot;</code><br />
<code>#include &quot;esp32/rom/lldesc.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for spi_master_lobo.h:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h__incl.png" border="0" usemap="#_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8h" alt=""/></div>
<map name="_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8h" id="_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h__dep__incl.png" border="0" usemap="#_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8hdep" alt=""/></div>
<map name="_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8hdep" id="_hardware_life_2_lcd_2_e_s_p32___t_f_t__library_2components_2spidriver_2spi__master__lobo_8hdep">
<area shape="rect" id="node2" href="spi__master__lobo_8c.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/components\l/spidriver/spi_master_lobo.c" alt="" coords="5,109,191,165"/>
<area shape="rect" id="node3" href="tftspi_8h.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/components\l/tft/tftspi.h" alt="" coords="215,109,386,165"/>
<area shape="rect" id="node4" href="tft_8h.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/components\l/tft/tft.h" alt="" coords="154,213,325,269"/>
<area shape="rect" id="node5" href="tft_8c.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/components\l/tft/tft.c" alt="" coords="57,317,227,373"/>
<area shape="rect" id="node6" href="tft__demo_8c.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/main/tft\l_demo.c" alt="" coords="264,317,433,373"/>
<area shape="rect" id="node7" href="tftspi_8c.html" title="HardwareLife/Lcd/ESP32\l_TFT_library/components\l/tft/tftspi.c" alt="" coords="399,213,570,269"/>
</map>
</div>
</div>
<p><a href="spi__master__lobo_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structspi__lobo__bus__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">spi_lobo_bus_config_t</a></td></tr>
<tr class="memdesc:structspi__lobo__bus__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a configuration structure for a SPI bus.  <a href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">More...</a><br /></td></tr>
<tr class="separator:structspi__lobo__bus__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structspi__lobo__device__interface__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a></td></tr>
<tr class="memdesc:structspi__lobo__device__interface__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a configuration for a SPI slave device that is connected to one of the SPI buses.  <a href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">More...</a><br /></td></tr>
<tr class="separator:structspi__lobo__device__interface__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structspi__lobo__transaction__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a></td></tr>
<tr class="separator:structspi__lobo__transaction__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structspi__lobo__host__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__host__t">spi_lobo_host_t</a></td></tr>
<tr class="separator:structspi__lobo__host__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structspi__lobo__device__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a></td></tr>
<tr class="separator:structspi__lobo__device__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionspi__lobo__transaction__t_8____unnamed____"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#unionspi__lobo__transaction__t_8____unnamed____">spi_lobo_transaction_t.__unnamed__</a></td></tr>
<tr class="separator:unionspi__lobo__transaction__t_8____unnamed____"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionspi__lobo__transaction__t_8____unnamed____"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#unionspi__lobo__transaction__t_8____unnamed____">spi_lobo_transaction_t.__unnamed__</a></td></tr>
<tr class="separator:unionspi__lobo__transaction__t_8____unnamed____"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a28d038c3b926bf899d56d94445224e91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a28d038c3b926bf899d56d94445224e91">SPI_MAX_DMA_LEN</a>&#160;&#160;&#160;(4096-4)</td></tr>
<tr class="separator:a28d038c3b926bf899d56d94445224e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdc2742adf4234b4b08fb7751ce3cc1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a0cdc2742adf4234b4b08fb7751ce3cc1">LB_SPI_DEVICE_TXBIT_LSBFIRST</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="memdesc:a0cdc2742adf4234b4b08fb7751ce3cc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit command/address/data LSB first instead of the default MSB first.  <a href="#a0cdc2742adf4234b4b08fb7751ce3cc1">More...</a><br /></td></tr>
<tr class="separator:a0cdc2742adf4234b4b08fb7751ce3cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5efd1af7a01a067d30954a63c4cca2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a4b5efd1af7a01a067d30954a63c4cca2">LB_SPI_DEVICE_RXBIT_LSBFIRST</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="memdesc:a4b5efd1af7a01a067d30954a63c4cca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data LSB first instead of the default MSB first.  <a href="#a4b5efd1af7a01a067d30954a63c4cca2">More...</a><br /></td></tr>
<tr class="separator:a4b5efd1af7a01a067d30954a63c4cca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96ee2a887e09d03a720813372b445ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ae96ee2a887e09d03a720813372b445ca">LB_SPI_DEVICE_BIT_LSBFIRST</a>&#160;&#160;&#160;(SPI_TXBIT_LSBFIRST|SPI_RXBIT_LSBFIRST);</td></tr>
<tr class="memdesc:ae96ee2a887e09d03a720813372b445ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit and receive LSB first.  <a href="#ae96ee2a887e09d03a720813372b445ca">More...</a><br /></td></tr>
<tr class="separator:ae96ee2a887e09d03a720813372b445ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61929fb6bf3ca71ff5fa67160d55969"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ae61929fb6bf3ca71ff5fa67160d55969">LB_SPI_DEVICE_3WIRE</a>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="memdesc:ae61929fb6bf3ca71ff5fa67160d55969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use spiq for both sending and receiving data.  <a href="#ae61929fb6bf3ca71ff5fa67160d55969">More...</a><br /></td></tr>
<tr class="separator:ae61929fb6bf3ca71ff5fa67160d55969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ec257082f11da2653ff46fa32124fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a93ec257082f11da2653ff46fa32124fc">LB_SPI_DEVICE_POSITIVE_CS</a>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="memdesc:a93ec257082f11da2653ff46fa32124fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make CS positive during a transaction instead of negative.  <a href="#a93ec257082f11da2653ff46fa32124fc">More...</a><br /></td></tr>
<tr class="separator:a93ec257082f11da2653ff46fa32124fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952154a78f2bbbd483a1d4a69e3a6e46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a952154a78f2bbbd483a1d4a69e3a6e46">LB_SPI_DEVICE_HALFDUPLEX</a>&#160;&#160;&#160;(1&lt;&lt;4)</td></tr>
<tr class="memdesc:a952154a78f2bbbd483a1d4a69e3a6e46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit data before receiving it, instead of simultaneously.  <a href="#a952154a78f2bbbd483a1d4a69e3a6e46">More...</a><br /></td></tr>
<tr class="separator:a952154a78f2bbbd483a1d4a69e3a6e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7556d5df97453b66be07f89d8d78287d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a7556d5df97453b66be07f89d8d78287d">LB_SPI_DEVICE_CLK_AS_CS</a>&#160;&#160;&#160;(1&lt;&lt;5)</td></tr>
<tr class="memdesc:a7556d5df97453b66be07f89d8d78287d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output clock on CS line if CS is active.  <a href="#a7556d5df97453b66be07f89d8d78287d">More...</a><br /></td></tr>
<tr class="separator:a7556d5df97453b66be07f89d8d78287d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0f3e8be60673f931a14e82b12bc696"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a3b0f3e8be60673f931a14e82b12bc696">SPI_ERR_OTHER_CONFIG</a>&#160;&#160;&#160;7001</td></tr>
<tr class="separator:a3b0f3e8be60673f931a14e82b12bc696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add060194e59c1411645e084bbd6bc706"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#add060194e59c1411645e084bbd6bc706">LB_SPI_TRANS_MODE_DIO</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="memdesc:add060194e59c1411645e084bbd6bc706"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit/receive data in 2-bit mode.  <a href="#add060194e59c1411645e084bbd6bc706">More...</a><br /></td></tr>
<tr class="separator:add060194e59c1411645e084bbd6bc706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e14ff1ce576492b0f1422eb4f77149"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a81e14ff1ce576492b0f1422eb4f77149">LB_SPI_TRANS_MODE_QIO</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="memdesc:a81e14ff1ce576492b0f1422eb4f77149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit/receive data in 4-bit mode.  <a href="#a81e14ff1ce576492b0f1422eb4f77149">More...</a><br /></td></tr>
<tr class="separator:a81e14ff1ce576492b0f1422eb4f77149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dab78a7de1cb253e5fcde2982d6272"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ae4dab78a7de1cb253e5fcde2982d6272">LB_SPI_TRANS_MODE_DIOQIO_ADDR</a>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="memdesc:ae4dab78a7de1cb253e5fcde2982d6272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also transmit address in mode selected by SPI_MODE_DIO/SPI_MODE_QIO.  <a href="#ae4dab78a7de1cb253e5fcde2982d6272">More...</a><br /></td></tr>
<tr class="separator:ae4dab78a7de1cb253e5fcde2982d6272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ea53b47e908cab01ca8e6b0ca49804"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a56ea53b47e908cab01ca8e6b0ca49804">LB_SPI_TRANS_USE_RXDATA</a>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="memdesc:a56ea53b47e908cab01ca8e6b0ca49804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive into rx_data member of <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> instead into memory at rx_buffer.  <a href="#a56ea53b47e908cab01ca8e6b0ca49804">More...</a><br /></td></tr>
<tr class="separator:a56ea53b47e908cab01ca8e6b0ca49804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e005016d92b17a7d7fb1fed6f553567"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a8e005016d92b17a7d7fb1fed6f553567">LB_SPI_TRANS_USE_TXDATA</a>&#160;&#160;&#160;(1&lt;&lt;4)</td></tr>
<tr class="memdesc:a8e005016d92b17a7d7fb1fed6f553567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit tx_data member of <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> instead of data at tx_buffer. Do not set tx_buffer when using this.  <a href="#a8e005016d92b17a7d7fb1fed6f553567">More...</a><br /></td></tr>
<tr class="separator:a8e005016d92b17a7d7fb1fed6f553567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782d9281f18d008edd8b8d3e1880465a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a782d9281f18d008edd8b8d3e1880465a">NO_CS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a782d9281f18d008edd8b8d3e1880465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d357b54d006248103c7445724b816dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a9d357b54d006248103c7445724b816dd">NO_DEV</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a9d357b54d006248103c7445724b816dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef4a2650bcb33a52b2e294ef6f70877"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a6ef4a2650bcb33a52b2e294ef6f70877">SPI_SEMAPHORE_WAIT</a>&#160;&#160;&#160;2000</td></tr>
<tr class="separator:a6ef4a2650bcb33a52b2e294ef6f70877"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2663c3b2e70d9f0e93ad4940edf06b06"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a2663c3b2e70d9f0e93ad4940edf06b06">spi_lobo_transaction_t</a></td></tr>
<tr class="separator:a2663c3b2e70d9f0e93ad4940edf06b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05d45bde6b4e53b3f492fc65d5f5797"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ac05d45bde6b4e53b3f492fc65d5f5797">spi_lobo_transaction_cb_t</a>) (<a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> *trans)</td></tr>
<tr class="separator:ac05d45bde6b4e53b3f492fc65d5f5797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503daf5d0da8c0b72f3cd92650846033"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a503daf5d0da8c0b72f3cd92650846033">spi_lobo_device_t</a></td></tr>
<tr class="separator:a503daf5d0da8c0b72f3cd92650846033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6083b952d07eedde7eef9b837b23ef"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a></td></tr>
<tr class="memdesc:adb6083b952d07eedde7eef9b837b23ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle for a device on a SPI bus.  <a href="#adb6083b952d07eedde7eef9b837b23ef">More...</a><br /></td></tr>
<tr class="separator:adb6083b952d07eedde7eef9b837b23ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef88c42be10bd54f5d277aa38191828"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__host__t">spi_lobo_host_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a9ef88c42be10bd54f5d277aa38191828">spi_lobo_host_handle_t</a></td></tr>
<tr class="separator:a9ef88c42be10bd54f5d277aa38191828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a30e6a6e5e500d76c6ef7fba9b6ffc2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a2a30e6a6e5e500d76c6ef7fba9b6ffc2">spi_lobo_device_interface_config_handle_t</a></td></tr>
<tr class="separator:a2a30e6a6e5e500d76c6ef7fba9b6ffc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afbbfae97a25f145dbb757b224f2e14af"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">spi_lobo_host_device_t</a> { <a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14afa34c576e6f6e46e763596df67e0f1ab47">TFT_SPI_HOST</a> =0, 
<a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14afab17c1d55af5437648aef1fdc2f463fb4">TFT_HSPI_HOST</a> =1, 
<a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14afa8e68648e25916d7dbf9b3e75efe74a3e">TFT_VSPI_HOST</a> =2
 }<tr class="memdesc:afbbfae97a25f145dbb757b224f2e14af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum with the three SPI peripherals that are software-accessible in it.  <a href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:afbbfae97a25f145dbb757b224f2e14af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9cde37ee54e5cf2aeb84d9cf94fbb8f0"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a9cde37ee54e5cf2aeb84d9cf94fbb8f0">spi_lobo_bus_add_device</a> (<a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">spi_lobo_host_device_t</a> host, <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">spi_lobo_bus_config_t</a> *bus_config, <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a> *dev_config, <a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> *handle)</td></tr>
<tr class="memdesc:a9cde37ee54e5cf2aeb84d9cf94fbb8f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a device. This allocates a CS line for the device, allocates memory for the device structure and hooks up the CS pin to whatever is specified.  <a href="#a9cde37ee54e5cf2aeb84d9cf94fbb8f0">More...</a><br /></td></tr>
<tr class="separator:a9cde37ee54e5cf2aeb84d9cf94fbb8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26bfad2bbea5b8b0c4d29a44bed91494"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a26bfad2bbea5b8b0c4d29a44bed91494">spi_lobo_bus_remove_device</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="memdesc:a26bfad2bbea5b8b0c4d29a44bed91494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a device from the SPI bus. If after removal no other device is attached to the spi bus device, it is freed.  <a href="#a26bfad2bbea5b8b0c4d29a44bed91494">More...</a><br /></td></tr>
<tr class="separator:a26bfad2bbea5b8b0c4d29a44bed91494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa854233c497b89be628679dfdc8f163e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#aa854233c497b89be628679dfdc8f163e">spi_lobo_get_speed</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="memdesc:aa854233c497b89be628679dfdc8f163e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the actuall SPI bus speed for the spi device in Hz.  <a href="#aa854233c497b89be628679dfdc8f163e">More...</a><br /></td></tr>
<tr class="separator:aa854233c497b89be628679dfdc8f163e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9adfede36ff48e03fef4f4c7596bdb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a7b9adfede36ff48e03fef4f4c7596bdb">spi_lobo_set_speed</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle, uint32_t speed)</td></tr>
<tr class="memdesc:a7b9adfede36ff48e03fef4f4c7596bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the new clock speed for the device, return the actuall SPI bus speed set, in Hz This function can be used after the device is initialized.  <a href="#a7b9adfede36ff48e03fef4f4c7596bdb">More...</a><br /></td></tr>
<tr class="separator:a7b9adfede36ff48e03fef4f4c7596bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65164b69e17f18a63991a0be9869b9f7"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a65164b69e17f18a63991a0be9869b9f7">spi_lobo_device_select</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle, int force)</td></tr>
<tr class="memdesc:a65164b69e17f18a63991a0be9869b9f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select spi device for transmission.  <a href="#a65164b69e17f18a63991a0be9869b9f7">More...</a><br /></td></tr>
<tr class="separator:a65164b69e17f18a63991a0be9869b9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd57a81e914f1b69df5ece410f2a1855"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#afd57a81e914f1b69df5ece410f2a1855">spi_lobo_device_deselect</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="memdesc:afd57a81e914f1b69df5ece410f2a1855"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-select spi device.  <a href="#afd57a81e914f1b69df5ece410f2a1855">More...</a><br /></td></tr>
<tr class="separator:afd57a81e914f1b69df5ece410f2a1855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00be9c566e4805cb3007fd4b0e075c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ab00be9c566e4805cb3007fd4b0e075c3">spi_lobo_uses_native_pins</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="memdesc:ab00be9c566e4805cb3007fd4b0e075c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if spi bus uses native spi pins.  <a href="#ab00be9c566e4805cb3007fd4b0e075c3">More...</a><br /></td></tr>
<tr class="separator:ab00be9c566e4805cb3007fd4b0e075c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4047c33b24fb219f4dd02b293851c265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a4047c33b24fb219f4dd02b293851c265">spi_lobo_get_native_pins</a> (int host, int *sdi, int *sdo, int *sck)</td></tr>
<tr class="memdesc:a4047c33b24fb219f4dd02b293851c265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get spi bus native spi pins.  <a href="#a4047c33b24fb219f4dd02b293851c265">More...</a><br /></td></tr>
<tr class="separator:a4047c33b24fb219f4dd02b293851c265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e4e3ab6395f45cc506d72b2b0329d9"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle, <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> *trans)</td></tr>
<tr class="memdesc:af9e4e3ab6395f45cc506d72b2b0329d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transimit and receive data to/from spi device based on transaction data.  <a href="#af9e4e3ab6395f45cc506d72b2b0329d9">More...</a><br /></td></tr>
<tr class="separator:af9e4e3ab6395f45cc506d72b2b0329d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7c72bea7eb08d0ecd0374ed871f302"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#add7c72bea7eb08d0ecd0374ed871f302">spi_lobo_device_TakeSemaphore</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="separator:add7c72bea7eb08d0ecd0374ed871f302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1afe79d9bec3da9bdc30a1d21665d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#ada1afe79d9bec3da9bdc30a1d21665d1">spi_lobo_device_GiveSemaphore</a> (<a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> handle)</td></tr>
<tr class="separator:ada1afe79d9bec3da9bdc30a1d21665d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd48c0566cfee5cdbefc612c65610b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#afbd48c0566cfee5cdbefc612c65610b6">spi_lobo_setup_dma_desc_links</a> (lldesc_t *dmadesc, int len, const uint8_t *data, bool isrx)</td></tr>
<tr class="memdesc:afbd48c0566cfee5cdbefc612c65610b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a DMA link chain.  <a href="#afbd48c0566cfee5cdbefc612c65610b6">More...</a><br /></td></tr>
<tr class="separator:afbd48c0566cfee5cdbefc612c65610b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad888f21ca7a43b10526bc4b67caeab0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#aad888f21ca7a43b10526bc4b67caeab0">spi_lobo_dmaworkaround_reset_in_progress</a> ()</td></tr>
<tr class="memdesc:aad888f21ca7a43b10526bc4b67caeab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a DMA reset is requested but has not completed yet.  <a href="#aad888f21ca7a43b10526bc4b67caeab0">More...</a><br /></td></tr>
<tr class="separator:aad888f21ca7a43b10526bc4b67caeab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb15cb48ae6d5b76a29691c08122c19d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#afb15cb48ae6d5b76a29691c08122c19d">spi_lobo_dmaworkaround_idle</a> (int dmachan)</td></tr>
<tr class="memdesc:afb15cb48ae6d5b76a29691c08122c19d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a DMA channel as idle.  <a href="#afb15cb48ae6d5b76a29691c08122c19d">More...</a><br /></td></tr>
<tr class="separator:afb15cb48ae6d5b76a29691c08122c19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739f6a364cc2b517a127a6f7196925a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__master__lobo_8h.html#a739f6a364cc2b517a127a6f7196925a5">spi_lobo_dmaworkaround_transfer_active</a> (int dmachan)</td></tr>
<tr class="memdesc:a739f6a364cc2b517a127a6f7196925a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a DMA channel as active.  <a href="#a739f6a364cc2b517a127a6f7196925a5">More...</a><br /></td></tr>
<tr class="separator:a739f6a364cc2b517a127a6f7196925a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structspi__lobo__bus__config__t" id="structspi__lobo__bus__config__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__lobo__bus__config__t">&#9670;&nbsp;</a></span>spi_lobo_bus_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_lobo_bus_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This is a configuration structure for a SPI bus. </p>
<p>You can use this structure to specify the GPIO pins of the bus. Normally, the driver will use the GPIO matrix to route the signals. An exception is made when all signals either can be routed through the IO_MUX or are -1. In that case, the IO_MUX is used, allowing for &gt;40MHz speeds. </p>
</div><div class="dynheader">
Collaboration diagram for spi_lobo_bus_config_t:</div>
<div class="dyncontent">
<div class="center"><img src="structspi__lobo__bus__config__t__coll__graph.png" border="0" usemap="#spi__lobo__bus__config__t_coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__bus__config__t_coll__map" id="spi__lobo__bus__config__t_coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="aa73dfedd3f4b3b095f36f4ed9e5b8906"></a>int</td>
<td class="fieldname">
max_transfer_sz</td>
<td class="fielddoc">
Maximum transfer size, in bytes. Defaults to 4094 if 0. </td></tr>
<tr><td class="fieldtype">
<a id="afc2075a9754b4f6103e89cd7b4fe0158"></a>int</td>
<td class="fieldname">
miso_io_num</td>
<td class="fielddoc">
GPIO pin for Master In Slave Out (=spi_q) signal, or -1 if not used. </td></tr>
<tr><td class="fieldtype">
<a id="a94278e232281ec3c3516a0342845d2cb"></a>int</td>
<td class="fieldname">
mosi_io_num</td>
<td class="fielddoc">
GPIO pin for Master Out Slave In (=spi_d) signal, or -1 if not used. </td></tr>
<tr><td class="fieldtype">
<a id="a4e7806f12f71badd825ae164807787e4"></a>int</td>
<td class="fieldname">
quadhd_io_num</td>
<td class="fielddoc">
GPIO pin for HD (HolD) signal which is used as D3 in 4-bit communication modes, or -1 if not used. </td></tr>
<tr><td class="fieldtype">
<a id="a59477f890ad6fef05b4cd741677debec"></a>int</td>
<td class="fieldname">
quadwp_io_num</td>
<td class="fielddoc">
GPIO pin for WP (Write Protect) signal which is used as D2 in 4-bit communication modes, or -1 if not used. </td></tr>
<tr><td class="fieldtype">
<a id="a7b5ed67f4b2ba2a7b58c370a29e60f95"></a>int</td>
<td class="fieldname">
sclk_io_num</td>
<td class="fielddoc">
GPIO pin for Spi CLocK signal, or -1 if not used. </td></tr>
</table>

</div>
</div>
<a name="structspi__lobo__device__interface__config__t" id="structspi__lobo__device__interface__config__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__lobo__device__interface__config__t">&#9670;&nbsp;</a></span>spi_lobo_device_interface_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_lobo_device_interface_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This is a configuration for a SPI slave device that is connected to one of the SPI buses. </p>
</div><div class="dynheader">
Collaboration diagram for spi_lobo_device_interface_config_t:</div>
<div class="dyncontent">
<div class="center"><img src="structspi__lobo__device__interface__config__t__coll__graph.png" border="0" usemap="#spi__lobo__device__interface__config__t_coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__device__interface__config__t_coll__map" id="spi__lobo__device__interface__config__t_coll__map">
<area shape="rect" id="node2" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t" title="{spi_lobo_transaction_t\n|+ flags\l+ command\l+ address\l+ length\l+ rxlength\l+ user\l+ @1\l+ @3\l|}" alt="" coords="15,5,167,185"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="add097bb61cdf6e046d59186302e0ddfa"></a>uint8_t</td>
<td class="fieldname">
address_bits</td>
<td class="fielddoc">
Amount of bits in address phase (0-64) </td></tr>
<tr><td class="fieldtype">
<a id="a9a8af59c946d69b8d908c9af8d736731"></a>int</td>
<td class="fieldname">
clock_speed_hz</td>
<td class="fielddoc">
Clock speed, in Hz. </td></tr>
<tr><td class="fieldtype">
<a id="a0d5fbbbcd253af58a65d7cfd6143fe57"></a>uint8_t</td>
<td class="fieldname">
command_bits</td>
<td class="fielddoc">
Amount of bits in command phase (0-16) </td></tr>
<tr><td class="fieldtype">
<a id="aa10c2ba7e057f2de9c77959e30bddd83"></a>uint8_t</td>
<td class="fieldname">
cs_ena_posttrans</td>
<td class="fielddoc">
Amount of SPI bit-cycles the cs should stay active after the transmission (0-16) </td></tr>
<tr><td class="fieldtype">
<a id="afa1f6e2dc78e5901748edd065d3baff5"></a>uint8_t</td>
<td class="fieldname">
cs_ena_pretrans</td>
<td class="fielddoc">
Amount of SPI bit-cycles the cs should be activated before the transmission (0-16). This only works on half-duplex transactions. </td></tr>
<tr><td class="fieldtype">
<a id="a607bd6901913187ee9fc8b337586e73c"></a>uint8_t</td>
<td class="fieldname">
dummy_bits</td>
<td class="fielddoc">
Amount of dummy bits to insert between address and data phase. </td></tr>
<tr><td class="fieldtype">
<a id="a525019a232ef540e2f8ebb59f4ff47f8"></a>uint8_t</td>
<td class="fieldname">
duty_cycle_pos</td>
<td class="fielddoc">
Duty cycle of positive clock, in 1/256th increments (128 = 50%/50% duty). Setting this to 0 (=not setting it) is equivalent to setting this to 128. </td></tr>
<tr><td class="fieldtype">
<a id="a58cdcde9c930120466c738a14d6f6fab"></a>uint32_t</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
Bitwise OR of LB_SPI_DEVICE_* flags. </td></tr>
<tr><td class="fieldtype">
<a id="a1c23032e28bb2c030fd2b21575a012f7"></a>uint8_t</td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
SPI mode (0-3) </td></tr>
<tr><td class="fieldtype">
<a id="ab4fed50557ba4c272fc251a2899bec39"></a><a class="el" href="spi__master__lobo_8h.html#ac05d45bde6b4e53b3f492fc65d5f5797">spi_lobo_transaction_cb_t</a></td>
<td class="fieldname">
post_cb</td>
<td class="fielddoc">
Callback to be called after a transmission has completed. This callback from 'spi_lobo_transfer_data' function. </td></tr>
<tr><td class="fieldtype">
<a id="a376f3dd09a6ccae99ab3c47690152c6e"></a><a class="el" href="spi__master__lobo_8h.html#ac05d45bde6b4e53b3f492fc65d5f5797">spi_lobo_transaction_cb_t</a></td>
<td class="fieldname">
pre_cb</td>
<td class="fielddoc">
Callback to be called before a transmission is started. This callback from 'spi_lobo_transfer_data' function. </td></tr>
<tr><td class="fieldtype">
<a id="a34a48bc1f9e3bd7f3a272484bed8cdc3"></a>uint8_t</td>
<td class="fieldname">
selected</td>
<td class="fielddoc">
<b>INTERNAL</b> 1 if the device's CS pin is active </td></tr>
<tr><td class="fieldtype">
<a id="a401358f9287a2f47f6ac5511b5014c3d"></a>int</td>
<td class="fieldname">
spics_ext_io_num</td>
<td class="fielddoc">
CS GPIO pin for this device, handled by software (spi_lobo_device_select/spi_lobo_device_deselect); only used if spics_io_num=-1. </td></tr>
<tr><td class="fieldtype">
<a id="a52c49fe0148deb389a6653541c851bbb"></a>int</td>
<td class="fieldname">
spics_io_num</td>
<td class="fielddoc">
CS GPIO pin for this device, handled by hardware; set to -1 if not used. </td></tr>
</table>

</div>
</div>
<a name="structspi__lobo__transaction__t" id="structspi__lobo__transaction__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__lobo__transaction__t">&#9670;&nbsp;</a></span>spi_lobo_transaction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_lobo_transaction_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This structure describes one SPI transmission </p>
</div><div class="dynheader">
Collaboration diagram for spi_lobo_transaction_t:</div>
<div class="dyncontent">
<div class="center"><img src="structspi__lobo__transaction__t__coll__graph.png" border="0" usemap="#spi__lobo__transaction__t_coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__transaction__t_coll__map" id="spi__lobo__transaction__t_coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a8dbbd73dd2b2b9f83d6ef0ac25cd0407"></a>union <a class="el" href="spi__master__lobo_8h.html#unionspi__lobo__transaction__t_8____unnamed____">spi_lobo_transaction_t</a></td>
<td class="fieldname">
__unnamed__</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a59b02b670db05924120e6eef233c1b1e"></a>union <a class="el" href="spi__master__lobo_8h.html#unionspi__lobo__transaction__t_8____unnamed____">spi_lobo_transaction_t</a></td>
<td class="fieldname">
__unnamed__</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af14c72df38f19887bcf6482968671105"></a>uint64_t</td>
<td class="fieldname">
address</td>
<td class="fielddoc">
Address. Specific length was given when device was added to the bus. </td></tr>
<tr><td class="fieldtype">
<a id="ad60a4a4b03cbb3337c1b5439edd81636"></a>uint16_t</td>
<td class="fieldname">
command</td>
<td class="fielddoc">
Command data. Specific length was given when device was added to the bus. </td></tr>
<tr><td class="fieldtype">
<a id="a6b6eb10f485e993841a9246642d50b07"></a>uint32_t</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
Bitwise OR of LB_SPI_TRANS_* flags. </td></tr>
<tr><td class="fieldtype">
<a id="a4658fb2c0af57630a9087ce797524b30"></a>size_t</td>
<td class="fieldname">
length</td>
<td class="fielddoc">
Total data length to be transmitted to the device, in bits; if 0, no data is transmitted. </td></tr>
<tr><td class="fieldtype">
<a id="a99c48756ddf104edc116ca2d7cbf3782"></a>size_t</td>
<td class="fieldname">
rxlength</td>
<td class="fielddoc">
Total data length to be received from the device, in bits; if 0, no data is received. </td></tr>
<tr><td class="fieldtype">
<a id="a7a7ccd6fd98f473bb1584b634379d3f5"></a>void *</td>
<td class="fieldname">
user</td>
<td class="fielddoc">
User-defined variable. Can be used to store eg transaction ID or data to be used by pre_cb and/or post_cb callbacks. </td></tr>
</table>

</div>
</div>
<a name="structspi__lobo__host__t" id="structspi__lobo__host__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__lobo__host__t">&#9670;&nbsp;</a></span>spi_lobo_host_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_lobo_host_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div class="dynheader">
Collaboration diagram for spi_lobo_host_t:</div>
<div class="dyncontent">
<div class="center"><img src="structspi__lobo__host__t__coll__graph.png" border="0" usemap="#spi__lobo__host__t_coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__host__t_coll__map" id="spi__lobo__host__t_coll__map">
<area shape="rect" id="node3" href="spi__master__lobo_8h.html#structspi__lobo__device__t" title="{spi_lobo_device_t\n|+ host_dev\l|}" alt="" coords="108,579,235,656"/>
<area shape="rect" id="node2" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t" title="This is a configuration structure for a SPI bus. " alt="" coords="71,20,221,171"/>
<area shape="rect" id="node4" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t" title="This is a configuration for a SPI slave device that is connected to one of the SPI buses..." alt="" coords="308,263,480,516"/>
<area shape="rect" id="node5" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t" title="{spi_lobo_transaction_t\n|+ flags\l+ command\l+ address\l+ length\l+ rxlength\l+ user\l+ @1\l+ @3\l|}" alt="" coords="318,5,470,185"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="abdb2a294e6a34416b52231b1218838f3"></a><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">spi_lobo_bus_config_t</a></td>
<td class="fieldname">
cur_bus_config</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae1249747858b1123f0ece404a1db6ef4"></a>int</td>
<td class="fieldname">
cur_device</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2d0c39c04698d66e0716ef216de2deb4"></a><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a> *</td>
<td class="fieldname">
device[<a class="el" href="spi__master__lobo_8h.html#a9d357b54d006248103c7445724b816dd">NO_DEV</a>]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a738335eaee0d0a89f5f5bf8a403e8c9d"></a>int</td>
<td class="fieldname">
dma_chan</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a493f473bee4355a1ee60be2fa85d1420"></a>lldesc_t *</td>
<td class="fieldname">
dmadesc_rx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac35b931577895c0488e79c6b33315e50"></a>lldesc_t *</td>
<td class="fieldname">
dmadesc_tx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9ce86f0c1a959b9144e03e96b84121f1"></a>spi_dev_t *</td>
<td class="fieldname">
hw</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7460e1c864e629f2b6cb002b9690dc91"></a>intr_handle_t</td>
<td class="fieldname">
intr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aedad0cfa1f33556a5b2c2f231a4a1a91"></a>int</td>
<td class="fieldname">
max_transfer_sz</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a425ee2633d3a132b92715392741032f4"></a>bool</td>
<td class="fieldname">
no_gpio_matrix</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aee709556a4c39503152f50f65130232f"></a>QueueHandle_t</td>
<td class="fieldname">
spi_lobo_bus_mutex</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structspi__lobo__device__t" id="structspi__lobo__device__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__lobo__device__t">&#9670;&nbsp;</a></span>spi_lobo_device_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_lobo_device_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div class="dynheader">
Collaboration diagram for spi_lobo_device_t:</div>
<div class="dyncontent">
<div class="center"><img src="structspi__lobo__device__t__coll__graph.png" border="0" usemap="#spi__lobo__device__t_coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__device__t_coll__map" id="spi__lobo__device__t_coll__map">
<area shape="rect" id="node4" href="spi__master__lobo_8h.html#structspi__lobo__host__t" title="{spi_lobo_host_t\n|+ intr\l+ hw\l+ cur_device\l+ dmadesc_tx\l+ dmadesc_rx\l+ no_gpio_matrix\l+ dma_chan\l+ max_transfer_sz\l+ spi_lobo_bus_mutex\l|}" alt="" coords="123,719,276,913"/>
<area shape="rect" id="node2" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t" title="This is a configuration for a SPI slave device that is connected to one of the SPI buses..." alt="" coords="181,263,353,516"/>
<area shape="rect" id="node3" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t" title="{spi_lobo_transaction_t\n|+ flags\l+ command\l+ address\l+ length\l+ rxlength\l+ user\l+ @1\l+ @3\l|}" alt="" coords="191,5,343,185"/>
<area shape="rect" id="node5" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t" title="This is a configuration structure for a SPI bus. " alt="" coords="5,314,156,465"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a70a33482b1442d2118fb906ee8d50e07"></a><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">spi_lobo_bus_config_t</a></td>
<td class="fieldname">
bus_config</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af2483849a2070b707c075ec237b272b5"></a><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a></td>
<td class="fieldname">
cfg</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9186a9d112b03dedd3ec31713aba37ce"></a><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__host__t">spi_lobo_host_t</a> *</td>
<td class="fieldname">
host</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aad4cdc567d587f8fb090c0681733b3d6"></a><a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">spi_lobo_host_device_t</a></td>
<td class="fieldname">
host_dev</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="unionspi__lobo__transaction__t_8____unnamed____" id="unionspi__lobo__transaction__t_8____unnamed____"></a>
<h2 class="memtitle"><span class="permalink"><a href="#unionspi__lobo__transaction__t_8____unnamed____">&#9670;&nbsp;</a></span>spi_lobo_transaction_t.__unnamed__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union spi_lobo_transaction_t.__unnamed__</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div class="dynheader">
Collaboration diagram for spi_lobo_transaction_t.__unnamed__:</div>
<div class="dyncontent">
<div class="center"><img src="unionspi__lobo__transaction__t_8____unnamed______coll__graph.png" border="0" usemap="#spi__lobo__transaction__t_8____unnamed_____coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__transaction__t_8____unnamed_____coll__map" id="spi__lobo__transaction__t_8____unnamed_____coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a7e22e3d75cc008436dbf3b20c0cd1917"></a>const void *</td>
<td class="fieldname">
tx_buffer</td>
<td class="fielddoc">
Pointer to transmit buffer, or NULL for no MOSI phase. </td></tr>
<tr><td class="fieldtype">
<a id="ae905c4d8174f012d7ebf9bb3c771bb17"></a>uint8_t</td>
<td class="fieldname">
tx_data[4]</td>
<td class="fielddoc">
If SPI_USE_TXDATA is set, data set here is sent directly from this variable. </td></tr>
</table>

</div>
</div>
<a name="unionspi__lobo__transaction__t_8____unnamed____" id="unionspi__lobo__transaction__t_8____unnamed____"></a>
<h2 class="memtitle"><span class="permalink"><a href="#unionspi__lobo__transaction__t_8____unnamed____">&#9670;&nbsp;</a></span>spi_lobo_transaction_t.__unnamed__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union spi_lobo_transaction_t.__unnamed__</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div class="dynheader">
Collaboration diagram for spi_lobo_transaction_t.__unnamed__:</div>
<div class="dyncontent">
<div class="center"><img src="unionspi__lobo__transaction__t_8____unnamed______coll__graph.png" border="0" usemap="#spi__lobo__transaction__t_8____unnamed_____coll__map" alt="Collaboration graph"/></div>
<map name="spi__lobo__transaction__t_8____unnamed_____coll__map" id="spi__lobo__transaction__t_8____unnamed_____coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a57a0bf59f0f5a685711ede06de34ddb3"></a>void *</td>
<td class="fieldname">
rx_buffer</td>
<td class="fielddoc">
Pointer to receive buffer, or NULL for no MISO phase. </td></tr>
<tr><td class="fieldtype">
<a id="ac039ab45a17c49d82afa42387227d060"></a>uint8_t</td>
<td class="fieldname">
rx_data[4]</td>
<td class="fielddoc">
If SPI_USE_RXDATA is set, data is received directly to this variable. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae61929fb6bf3ca71ff5fa67160d55969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61929fb6bf3ca71ff5fa67160d55969">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_3WIRE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_3WIRE&#160;&#160;&#160;(1&lt;&lt;2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use spiq for both sending and receiving data. </p>

</div>
</div>
<a id="ae96ee2a887e09d03a720813372b445ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96ee2a887e09d03a720813372b445ca">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_BIT_LSBFIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_BIT_LSBFIRST&#160;&#160;&#160;(SPI_TXBIT_LSBFIRST|SPI_RXBIT_LSBFIRST);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit and receive LSB first. </p>

</div>
</div>
<a id="a7556d5df97453b66be07f89d8d78287d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7556d5df97453b66be07f89d8d78287d">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_CLK_AS_CS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_CLK_AS_CS&#160;&#160;&#160;(1&lt;&lt;5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output clock on CS line if CS is active. </p>

</div>
</div>
<a id="a952154a78f2bbbd483a1d4a69e3a6e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952154a78f2bbbd483a1d4a69e3a6e46">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_HALFDUPLEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_HALFDUPLEX&#160;&#160;&#160;(1&lt;&lt;4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit data before receiving it, instead of simultaneously. </p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, <a class="el" href="tftspi_8h.html#ac97e2b06e9897ab7260743d234feed9f">drawPixel()</a>, <a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data()</a>, and <a class="el" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85">TftDisplayBackend()</a>.</p>

</div>
</div>
<a id="a93ec257082f11da2653ff46fa32124fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ec257082f11da2653ff46fa32124fc">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_POSITIVE_CS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_POSITIVE_CS&#160;&#160;&#160;(1&lt;&lt;3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make CS positive during a transaction instead of negative. </p>

</div>
</div>
<a id="a4b5efd1af7a01a067d30954a63c4cca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5efd1af7a01a067d30954a63c4cca2">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_RXBIT_LSBFIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_RXBIT_LSBFIRST&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data LSB first instead of the default MSB first. </p>

</div>
</div>
<a id="a0cdc2742adf4234b4b08fb7751ce3cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cdc2742adf4234b4b08fb7751ce3cc1">&#9670;&nbsp;</a></span>LB_SPI_DEVICE_TXBIT_LSBFIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_DEVICE_TXBIT_LSBFIRST&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit command/address/data LSB first instead of the default MSB first. </p>

</div>
</div>
<a id="add060194e59c1411645e084bbd6bc706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add060194e59c1411645e084bbd6bc706">&#9670;&nbsp;</a></span>LB_SPI_TRANS_MODE_DIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_TRANS_MODE_DIO&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit/receive data in 2-bit mode. </p>

</div>
</div>
<a id="ae4dab78a7de1cb253e5fcde2982d6272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4dab78a7de1cb253e5fcde2982d6272">&#9670;&nbsp;</a></span>LB_SPI_TRANS_MODE_DIOQIO_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_TRANS_MODE_DIOQIO_ADDR&#160;&#160;&#160;(1&lt;&lt;2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Also transmit address in mode selected by SPI_MODE_DIO/SPI_MODE_QIO. </p>

</div>
</div>
<a id="a81e14ff1ce576492b0f1422eb4f77149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e14ff1ce576492b0f1422eb4f77149">&#9670;&nbsp;</a></span>LB_SPI_TRANS_MODE_QIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_TRANS_MODE_QIO&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit/receive data in 4-bit mode. </p>

</div>
</div>
<a id="a56ea53b47e908cab01ca8e6b0ca49804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ea53b47e908cab01ca8e6b0ca49804">&#9670;&nbsp;</a></span>LB_SPI_TRANS_USE_RXDATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_TRANS_USE_RXDATA&#160;&#160;&#160;(1&lt;&lt;3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive into rx_data member of <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> instead into memory at rx_buffer. </p>

<p class="reference">Referenced by <a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data()</a>.</p>

</div>
</div>
<a id="a8e005016d92b17a7d7fb1fed6f553567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e005016d92b17a7d7fb1fed6f553567">&#9670;&nbsp;</a></span>LB_SPI_TRANS_USE_TXDATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_SPI_TRANS_USE_TXDATA&#160;&#160;&#160;(1&lt;&lt;4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit tx_data member of <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> instead of data at tx_buffer. Do not set tx_buffer when using this. </p>

<p class="reference">Referenced by <a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data()</a>.</p>

</div>
</div>
<a id="a782d9281f18d008edd8b8d3e1880465a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782d9281f18d008edd8b8d3e1880465a">&#9670;&nbsp;</a></span>NO_CS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_CS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d357b54d006248103c7445724b816dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d357b54d006248103c7445724b816dd">&#9670;&nbsp;</a></span>NO_DEV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_DEV&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="spi__master__lobo_8h.html#a26bfad2bbea5b8b0c4d29a44bed91494">spi_lobo_bus_remove_device()</a>, <a class="el" href="spi__master__lobo_8h.html#afd57a81e914f1b69df5ece410f2a1855">spi_lobo_device_deselect()</a>, and <a class="el" href="spi__master__lobo_8h.html#a65164b69e17f18a63991a0be9869b9f7">spi_lobo_device_select()</a>.</p>

</div>
</div>
<a id="a3b0f3e8be60673f931a14e82b12bc696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0f3e8be60673f931a14e82b12bc696">&#9670;&nbsp;</a></span>SPI_ERR_OTHER_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_ERR_OTHER_CONFIG&#160;&#160;&#160;7001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a28d038c3b926bf899d56d94445224e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d038c3b926bf899d56d94445224e91">&#9670;&nbsp;</a></span>SPI_MAX_DMA_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_MAX_DMA_LEN&#160;&#160;&#160;(4096-4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="spi__master__lobo_8h.html#afbd48c0566cfee5cdbefc612c65610b6">spi_lobo_setup_dma_desc_links()</a>.</p>

</div>
</div>
<a id="a6ef4a2650bcb33a52b2e294ef6f70877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef4a2650bcb33a52b2e294ef6f70877">&#9670;&nbsp;</a></span>SPI_SEMAPHORE_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SEMAPHORE_WAIT&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="spi__master__lobo_8h.html#a65164b69e17f18a63991a0be9869b9f7">spi_lobo_device_select()</a>, and <a class="el" href="spi__master__lobo_8h.html#add7c72bea7eb08d0ecd0374ed871f302">spi_lobo_device_TakeSemaphore()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adb6083b952d07eedde7eef9b837b23ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6083b952d07eedde7eef9b837b23ef">&#9670;&nbsp;</a></span>spi_lobo_device_handle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a>* <a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle for a device on a SPI bus. </p>

</div>
</div>
<a id="a2a30e6a6e5e500d76c6ef7fba9b6ffc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a30e6a6e5e500d76c6ef7fba9b6ffc2">&#9670;&nbsp;</a></span>spi_lobo_device_interface_config_handle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a>* <a class="el" href="spi__master__lobo_8h.html#a2a30e6a6e5e500d76c6ef7fba9b6ffc2">spi_lobo_device_interface_config_handle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a503daf5d0da8c0b72f3cd92650846033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503daf5d0da8c0b72f3cd92650846033">&#9670;&nbsp;</a></span>spi_lobo_device_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a> <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__t">spi_lobo_device_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ef88c42be10bd54f5d277aa38191828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef88c42be10bd54f5d277aa38191828">&#9670;&nbsp;</a></span>spi_lobo_host_handle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__host__t">spi_lobo_host_t</a>* <a class="el" href="spi__master__lobo_8h.html#a9ef88c42be10bd54f5d277aa38191828">spi_lobo_host_handle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac05d45bde6b4e53b3f492fc65d5f5797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05d45bde6b4e53b3f492fc65d5f5797">&#9670;&nbsp;</a></span>spi_lobo_transaction_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spi_lobo_transaction_cb_t) (<a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> *trans)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2663c3b2e70d9f0e93ad4940edf06b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2663c3b2e70d9f0e93ad4940edf06b06">&#9670;&nbsp;</a></span>spi_lobo_transaction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afbbfae97a25f145dbb757b224f2e14af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbbfae97a25f145dbb757b224f2e14af">&#9670;&nbsp;</a></span>spi_lobo_host_device_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">spi_lobo_host_device_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum with the three SPI peripherals that are software-accessible in it. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afbbfae97a25f145dbb757b224f2e14afa34c576e6f6e46e763596df67e0f1ab47"></a>TFT_SPI_HOST&#160;</td><td class="fielddoc"><p>SPI1, SPI; Cannot be used in this driver! </p>
</td></tr>
<tr><td class="fieldname"><a id="afbbfae97a25f145dbb757b224f2e14afab17c1d55af5437648aef1fdc2f463fb4"></a>TFT_HSPI_HOST&#160;</td><td class="fielddoc"><p>SPI2, HSPI. </p>
</td></tr>
<tr><td class="fieldname"><a id="afbbfae97a25f145dbb757b224f2e14afa8e68648e25916d7dbf9b3e75efe74a3e"></a>TFT_VSPI_HOST&#160;</td><td class="fielddoc"><p>SPI3, VSPI. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9cde37ee54e5cf2aeb84d9cf94fbb8f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cde37ee54e5cf2aeb84d9cf94fbb8f0">&#9670;&nbsp;</a></span>spi_lobo_bus_add_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_bus_add_device </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14af">spi_lobo_host_device_t</a>&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t">spi_lobo_bus_config_t</a> *&#160;</td>
          <td class="paramname"><em>bus_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__device__interface__config__t">spi_lobo_device_interface_config_t</a> *&#160;</td>
          <td class="paramname"><em>dev_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a device. This allocates a CS line for the device, allocates memory for the device structure and hooks up the CS pin to whatever is specified. </p>
<p>This initializes the internal structures for a device, plus allocates a CS pin on the indicated SPI master peripheral and routes it to the indicated GPIO. All SPI master devices have three hw CS pins and can thus control up to three devices. Software handled CS pin can also be used for additional devices on the same SPI bus.</p>
<h3>If selected SPI host device bus is not yet initialized, it is initialized first with 'bus_config' function</h3>
<dl class="section note"><dt>Note</dt><dd>While in general, speeds up to 80MHz on the dedicated SPI pins and 40MHz on GPIO-matrix-routed pins are supported, full-duplex transfers routed over the GPIO matrix only support speeds up to 26MHz.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>SPI peripheral to allocate device on (HSPI or VSPI) </td></tr>
    <tr><td class="paramname">dev_config</td><td>SPI interface protocol config for the device </td></tr>
    <tr><td class="paramname">bus_config</td><td>Pointer to a <a class="el" href="spi__master__lobo_8h.html#structspi__lobo__bus__config__t" title="This is a configuration structure for a SPI bus. ">spi_lobo_bus_config_t</a> struct specifying how the host device bus should be initialized </td></tr>
    <tr><td class="paramname">handle</td><td>Pointer to variable to hold the device handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_ERR_INVALID_ARG if parameter is invalid</li>
<li>ESP_ERR_NOT_FOUND if host doesn't have any free CS slots</li>
<li>ESP_ERR_NO_MEM if out of memory</li>
<li>ESP_OK on success </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14afa34c576e6f6e46e763596df67e0f1ab47">TFT_SPI_HOST</a>, and <a class="el" href="spi__master__lobo_8h.html#afbbfae97a25f145dbb757b224f2e14afa8e68648e25916d7dbf9b3e75efe74a3e">TFT_VSPI_HOST</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, and <a class="el" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85">TftDisplayBackend()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_a9cde37ee54e5cf2aeb84d9cf94fbb8f0_icgraph.png" border="0" usemap="#spi__master__lobo_8h_a9cde37ee54e5cf2aeb84d9cf94fbb8f0_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_a9cde37ee54e5cf2aeb84d9cf94fbb8f0_icgraph" id="spi__master__lobo_8h_a9cde37ee54e5cf2aeb84d9cf94fbb8f0_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="251,5,330,32"/>
<area shape="rect" id="node3" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85" title="TftDisplayBackend" alt="" coords="224,56,357,83"/>
<area shape="rect" id="node4" href="class_content.html#af14b7b5ebc756686ecde73dc09b57c56" title="Content::Content" alt="" coords="405,56,528,83"/>
</map>
</div>

</div>
</div>
<a id="a26bfad2bbea5b8b0c4d29a44bed91494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26bfad2bbea5b8b0c4d29a44bed91494">&#9670;&nbsp;</a></span>spi_lobo_bus_remove_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_bus_remove_device </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a device from the SPI bus. If after removal no other device is attached to the spi bus device, it is freed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_ERR_INVALID_ARG if parameter is invalid</li>
<li>ESP_ERR_INVALID_STATE if device already is freed</li>
<li>ESP_OK on success </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a2d0c39c04698d66e0716ef216de2deb4">spi_lobo_host_t::device</a>, <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#aad4cdc567d587f8fb090c0681733b3d6">spi_lobo_device_t::host_dev</a>, and <a class="el" href="spi__master__lobo_8h.html#a9d357b54d006248103c7445724b816dd">NO_DEV</a>.</p>

</div>
</div>
<a id="afd57a81e914f1b69df5ece410f2a1855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd57a81e914f1b69df5ece410f2a1855">&#9670;&nbsp;</a></span>spi_lobo_device_deselect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_device_deselect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-select spi device. </p>
<p>If device's spics_io_num=-1 and spics_ext_io_num &gt; 0 'spics_ext_io_num' pin is set to inactive state (high)</p>
<p>spi bus device's semaphore is given after selecting the device</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_ERR_INVALID_ARG if parameter is invalid</li>
<li>ESP_OK on success </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#af2483849a2070b707c075ec237b272b5">spi_lobo_device_t::cfg</a>, <a class="el" href="spi__master__lobo_8h.html#ae1249747858b1123f0ece404a1db6ef4">spi_lobo_host_t::cur_device</a>, <a class="el" href="spi__master__lobo_8h.html#a2d0c39c04698d66e0716ef216de2deb4">spi_lobo_host_t::device</a>, <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#a9d357b54d006248103c7445724b816dd">NO_DEV</a>, <a class="el" href="spi__master__lobo_8h.html#a34a48bc1f9e3bd7f3a272484bed8cdc3">spi_lobo_device_interface_config_t::selected</a>, <a class="el" href="spi__master__lobo_8h.html#aee709556a4c39503152f50f65130232f">spi_lobo_host_t::spi_lobo_bus_mutex</a>, <a class="el" href="spi__master__lobo_8h.html#a401358f9287a2f47f6ac5511b5014c3d">spi_lobo_device_interface_config_t::spics_ext_io_num</a>, and <a class="el" href="spi__master__lobo_8h.html#a52c49fe0148deb389a6653541c851bbb">spi_lobo_device_interface_config_t::spics_io_num</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, <a class="el" href="tftspi_8h.html#ad03394df0f5eec8690112800456aa333">disp_deselect()</a>, <a class="el" href="spi__master__lobo_8h.html#aa854233c497b89be628679dfdc8f163e">spi_lobo_get_speed()</a>, <a class="el" href="spi__master__lobo_8h.html#a7b9adfede36ff48e03fef4f4c7596bdb">spi_lobo_set_speed()</a>, <a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data()</a>, <a class="el" href="tft_8h.html#a2fe1259ac56d938ba10215531aaffb22">TFT_bmp_image()</a>, and <a class="el" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85">TftDisplayBackend()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_afd57a81e914f1b69df5ece410f2a1855_icgraph.png" border="0" usemap="#spi__master__lobo_8h_afd57a81e914f1b69df5ece410f2a1855_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_afd57a81e914f1b69df5ece410f2a1855_icgraph" id="spi__master__lobo_8h_afd57a81e914f1b69df5ece410f2a1855_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="789,63,867,90"/>
<area shape="rect" id="node3" href="tftspi_8h.html#ad03394df0f5eec8690112800456aa333" title="disp_deselect" alt="" coords="249,367,352,394"/>
<area shape="rect" id="node5" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85" title="TftDisplayBackend" alt="" coords="761,317,895,343"/>
<area shape="rect" id="node7" href="tft_8h.html#a2fe1259ac56d938ba10215531aaffb22" title="TFT_bmp_image" alt="" coords="425,317,545,343"/>
<area shape="rect" id="node13" href="spi__master__lobo_8h.html#aa854233c497b89be628679dfdc8f163e" title="Return the actuall SPI bus speed for the spi device in Hz. " alt="" coords="232,139,369,166"/>
<area shape="rect" id="node14" href="spi__master__lobo_8h.html#a7b9adfede36ff48e03fef4f4c7596bdb" title="Set the new clock speed for the device, return the actuall SPI bus speed set, in Hz This function can..." alt="" coords="232,215,369,242"/>
<area shape="rect" id="node15" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9" title="Transimit and receive data to/from spi device based on transaction data. " alt="" coords="224,570,377,597"/>
<area shape="rect" id="node4" href="tft_8h.html#addb4a0075dc026df3dbddcae6700e154" title="TFT_setRotation" alt="" coords="593,367,713,394"/>
<area shape="rect" id="node8" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb" title="read_data" alt="" coords="446,165,525,191"/>
<area shape="rect" id="node11" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475" title="find_rd_speed" alt="" coords="602,215,705,242"/>
<area shape="rect" id="node12" href="tftspi_8h.html#a6cac14690d3d53cab34227e9a39da1e8" title="_tft_setRotation" alt="" coords="428,418,543,445"/>
<area shape="rect" id="node6" href="class_content.html#af14b7b5ebc756686ecde73dc09b57c56" title="Content::Content" alt="" coords="943,317,1065,343"/>
<area shape="rect" id="node9" href="tftspi_8h.html#a20c1d0980fa142fe20c1e42d056f3581" title="readPixel" alt="" coords="615,165,691,191"/>
<area shape="rect" id="node10" href="tft_8h.html#a19e34da8841ba77c1125143df95e8c8a" title="TFT_readPixel" alt="" coords="775,165,881,191"/>
</map>
</div>

</div>
</div>
<a id="ada1afe79d9bec3da9bdc30a1d21665d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1afe79d9bec3da9bdc30a1d21665d1">&#9670;&nbsp;</a></span>spi_lobo_device_GiveSemaphore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lobo_device_GiveSemaphore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, and <a class="el" href="spi__master__lobo_8h.html#aee709556a4c39503152f50f65130232f">spi_lobo_host_t::spi_lobo_bus_mutex</a>.</p>

</div>
</div>
<a id="a65164b69e17f18a63991a0be9869b9f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65164b69e17f18a63991a0be9869b9f7">&#9670;&nbsp;</a></span>spi_lobo_device_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_device_select </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select spi device for transmission. </p>
<p>It configures spi bus with selected spi device parameters if previously selected device was different than the current If device's spics_io_num=-1 and spics_ext_io_num &gt; 0 'spics_ext_io_num' pin is set to active state (low)</p>
<p>spi bus device's semaphore is taken before selecting the device</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device </td></tr>
    <tr><td class="paramname">force</td><td>configure spi bus even if the previous device was the same</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_ERR_INVALID_ARG if parameter is invalid</li>
<li>ESP_OK on success </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a70a33482b1442d2118fb906ee8d50e07">spi_lobo_device_t::bus_config</a>, <a class="el" href="spi__master__lobo_8h.html#af2483849a2070b707c075ec237b272b5">spi_lobo_device_t::cfg</a>, <a class="el" href="spi__master__lobo_8h.html#abdb2a294e6a34416b52231b1218838f3">spi_lobo_host_t::cur_bus_config</a>, <a class="el" href="spi__master__lobo_8h.html#a2d0c39c04698d66e0716ef216de2deb4">spi_lobo_host_t::device</a>, <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#a9d357b54d006248103c7445724b816dd">NO_DEV</a>, <a class="el" href="spi__master__lobo_8h.html#a34a48bc1f9e3bd7f3a272484bed8cdc3">spi_lobo_device_interface_config_t::selected</a>, <a class="el" href="spi__master__lobo_8h.html#aee709556a4c39503152f50f65130232f">spi_lobo_host_t::spi_lobo_bus_mutex</a>, and <a class="el" href="spi__master__lobo_8h.html#a6ef4a2650bcb33a52b2e294ef6f70877">SPI_SEMAPHORE_WAIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, <a class="el" href="tftspi_8h.html#a3bc44209686c6b9b178f12f4395c4f08">disp_select()</a>, <a class="el" href="spi__master__lobo_8h.html#aa854233c497b89be628679dfdc8f163e">spi_lobo_get_speed()</a>, <a class="el" href="spi__master__lobo_8h.html#a7b9adfede36ff48e03fef4f4c7596bdb">spi_lobo_set_speed()</a>, <a class="el" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9">spi_lobo_transfer_data()</a>, <a class="el" href="tft_8h.html#a2fe1259ac56d938ba10215531aaffb22">TFT_bmp_image()</a>, <a class="el" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85">TftDisplayBackend()</a>, and <a class="el" href="tftspi_8h.html#a435be36d3feaa16e7ee4add7b9c7868c">touch_get_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_a65164b69e17f18a63991a0be9869b9f7_icgraph.png" border="0" usemap="#spi__master__lobo_8h_a65164b69e17f18a63991a0be9869b9f7_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_a65164b69e17f18a63991a0be9869b9f7_icgraph" id="spi__master__lobo_8h_a65164b69e17f18a63991a0be9869b9f7_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="955,321,1034,348"/>
<area shape="rect" id="node3" href="tftspi_8h.html#a3bc44209686c6b9b178f12f4395c4f08" title="disp_select" alt="" coords="243,271,331,297"/>
<area shape="rect" id="node6" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85" title="TftDisplayBackend" alt="" coords="928,448,1061,475"/>
<area shape="rect" id="node8" href="tft_8h.html#a2fe1259ac56d938ba10215531aaffb22" title="TFT_bmp_image" alt="" coords="421,676,541,703"/>
<area shape="rect" id="node20" href="spi__master__lobo_8h.html#aa854233c497b89be628679dfdc8f163e" title="Return the actuall SPI bus speed for the spi device in Hz. " alt="" coords="412,448,549,475"/>
<area shape="rect" id="node21" href="spi__master__lobo_8h.html#a7b9adfede36ff48e03fef4f4c7596bdb" title="Set the new clock speed for the device, return the actuall SPI bus speed set, in Hz This function can..." alt="" coords="412,575,549,601"/>
<area shape="rect" id="node22" href="spi__master__lobo_8h.html#af9e4e3ab6395f45cc506d72b2b0329d9" title="Transimit and receive data to/from spi device based on transaction data. " alt="" coords="211,777,364,804"/>
<area shape="rect" id="node23" href="tftspi_8h.html#a435be36d3feaa16e7ee4add7b9c7868c" title="touch_get_data" alt="" coords="232,727,343,753"/>
<area shape="rect" id="node4" href="tft_8h.html#a336858c5e533fb64deaf2f9277e3fe4e" title="TFT_drawCircle" alt="" coords="423,43,538,69"/>
<area shape="rect" id="node5" href="tft_8h.html#addb4a0075dc026df3dbddcae6700e154" title="TFT_setRotation" alt="" coords="760,245,880,272"/>
<area shape="rect" id="node9" href="tftspi_8h.html#ac97e2b06e9897ab7260743d234feed9f" title="drawPixel" alt="" coords="441,93,520,120"/>
<area shape="rect" id="node10" href="tftspi_8h.html#a05266092c0a2d4cff12229c3bc063465" title="TFT_pushColorRep" alt="" coords="413,144,549,171"/>
<area shape="rect" id="node14" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb" title="read_data" alt="" coords="615,499,694,525"/>
<area shape="rect" id="node17" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475" title="find_rd_speed" alt="" coords="769,448,871,475"/>
<area shape="rect" id="node18" href="tftspi_8h.html#a6cac14690d3d53cab34227e9a39da1e8" title="_tft_setRotation" alt="" coords="597,195,712,221"/>
<area shape="rect" id="node19" href="tftspi_8h.html#a0d900ff959f34466f569f8f90adb17bf" title="TFT_display_init" alt="" coords="761,296,879,323"/>
<area shape="rect" id="node7" href="class_content.html#af14b7b5ebc756686ecde73dc09b57c56" title="Content::Content" alt="" coords="1109,448,1232,475"/>
<area shape="rect" id="node11" href="tft_8h.html#ae90d2fd1147b3831df93728fe1652a98" title="TFT_fillScreen" alt="" coords="601,144,708,171"/>
<area shape="rect" id="node12" href="tft_8h.html#a8f236b3382c64b8a8388ce13b2b46845" title="TFT_fillWindow" alt="" coords="598,93,711,120"/>
<area shape="rect" id="node13" href="class_face.html#accc1c9be034165c0d5e748549422b729" title="Face::Face" alt="" coords="776,93,864,120"/>
<area shape="rect" id="node15" href="tftspi_8h.html#a20c1d0980fa142fe20c1e42d056f3581" title="readPixel" alt="" coords="782,752,858,779"/>
<area shape="rect" id="node16" href="tft_8h.html#a19e34da8841ba77c1125143df95e8c8a" title="TFT_readPixel" alt="" coords="941,752,1048,779"/>
</map>
</div>

</div>
</div>
<a id="add7c72bea7eb08d0ecd0374ed871f302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7c72bea7eb08d0ecd0374ed871f302">&#9670;&nbsp;</a></span>spi_lobo_device_TakeSemaphore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_device_TakeSemaphore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#aee709556a4c39503152f50f65130232f">spi_lobo_host_t::spi_lobo_bus_mutex</a>, and <a class="el" href="spi__master__lobo_8h.html#a6ef4a2650bcb33a52b2e294ef6f70877">SPI_SEMAPHORE_WAIT</a>.</p>

</div>
</div>
<a id="afb15cb48ae6d5b76a29691c08122c19d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb15cb48ae6d5b76a29691c08122c19d">&#9670;&nbsp;</a></span>spi_lobo_dmaworkaround_idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lobo_dmaworkaround_idle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dmachan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark a DMA channel as idle. </p>
<p>A call to this function tells the workaround logic that this channel will not be affected by a global SPI DMA reset. </p>

</div>
</div>
<a id="aad888f21ca7a43b10526bc4b67caeab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad888f21ca7a43b10526bc4b67caeab0">&#9670;&nbsp;</a></span>spi_lobo_dmaworkaround_reset_in_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_lobo_dmaworkaround_reset_in_progress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a DMA reset is requested but has not completed yet. </p>
<dl class="section return"><dt>Returns</dt><dd>True when a DMA reset is requested but hasn't completed yet. False otherwise. </dd></dl>

</div>
</div>
<a id="a739f6a364cc2b517a127a6f7196925a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739f6a364cc2b517a127a6f7196925a5">&#9670;&nbsp;</a></span>spi_lobo_dmaworkaround_transfer_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lobo_dmaworkaround_transfer_active </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dmachan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark a DMA channel as active. </p>
<p>A call to this function tells the workaround logic that this channel will be affected by a global SPI DMA reset, and a reset like that should not be attempted. </p>

</div>
</div>
<a id="a4047c33b24fb219f4dd02b293851c265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4047c33b24fb219f4dd02b293851c265">&#9670;&nbsp;</a></span>spi_lobo_get_native_pins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lobo_get_native_pins </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sdi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sdo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get spi bus native spi pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>places spi bus native pins in provided pointers </dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8c.html#ae9efd00bcdf67a23b5c5d2b92269ec7f">spi_signal_conn_t::spiclk_native</a>, <a class="el" href="spi__master__lobo_8c.html#afadc83695a3110598baae5d57130c1ac">spi_signal_conn_t::spid_native</a>, and <a class="el" href="spi__master__lobo_8c.html#a445a2b1a0c501f4c7c1d9ae774a81f63">spi_signal_conn_t::spiq_native</a>.</p>

</div>
</div>
<a id="aa854233c497b89be628679dfdc8f163e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa854233c497b89be628679dfdc8f163e">&#9670;&nbsp;</a></span>spi_lobo_get_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spi_lobo_get_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the actuall SPI bus speed for the spi device in Hz. </p>
<p>Some frequencies cannot be set, for example 30000000 will actually set SPI clock to 26666666 Hz</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>actuall SPI clock </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#a9ce86f0c1a959b9144e03e96b84121f1">spi_lobo_host_t::hw</a>, <a class="el" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017">spi_lobo_device_deselect()</a>, and <a class="el" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202">spi_lobo_device_select()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, <a class="el" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475">find_rd_speed()</a>, and <a class="el" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb">read_data()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_cgraph.png" border="0" usemap="#spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_cgraph" alt=""/></div>
<map name="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_cgraph" id="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_cgraph">
<area shape="rect" id="node2" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017" title="De&#45;select spi device. " alt="" coords="191,5,361,32"/>
<area shape="rect" id="node3" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202" title="Select spi device for transmission. " alt="" coords="197,56,355,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_icgraph.png" border="0" usemap="#spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_icgraph" id="spi__master__lobo_8h_aa854233c497b89be628679dfdc8f163e_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="495,5,574,32"/>
<area shape="rect" id="node3" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475" title="find_rd_speed" alt="" coords="317,56,420,83"/>
<area shape="rect" id="node6" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb" title="read_data" alt="" coords="191,107,269,133"/>
<area shape="rect" id="node4" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85" title="TftDisplayBackend" alt="" coords="468,56,601,83"/>
<area shape="rect" id="node5" href="class_content.html#af14b7b5ebc756686ecde73dc09b57c56" title="Content::Content" alt="" coords="649,56,772,83"/>
<area shape="rect" id="node7" href="tftspi_8h.html#a20c1d0980fa142fe20c1e42d056f3581" title="readPixel" alt="" coords="331,107,407,133"/>
<area shape="rect" id="node8" href="tft_8h.html#a19e34da8841ba77c1125143df95e8c8a" title="TFT_readPixel" alt="" coords="481,107,588,133"/>
</map>
</div>

</div>
</div>
<a id="a7b9adfede36ff48e03fef4f4c7596bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9adfede36ff48e03fef4f4c7596bdb">&#9670;&nbsp;</a></span>spi_lobo_set_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spi_lobo_set_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the new clock speed for the device, return the actuall SPI bus speed set, in Hz This function can be used after the device is initialized. </p>
<p>Some frequencies cannot be set, for example 30000000 will actually set SPI clock to 26666666 Hz</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device </td></tr>
    <tr><td class="paramname">speed</td><td>New device spi clock to be set in Hz</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>actuall SPI clock</li>
<li>0 if speed cannot be set </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#af2483849a2070b707c075ec237b272b5">spi_lobo_device_t::cfg</a>, <a class="el" href="spi__master__lobo_8h.html#a9a8af59c946d69b8d908c9af8d736731">spi_lobo_device_interface_config_t::clock_speed_hz</a>, <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#a9ce86f0c1a959b9144e03e96b84121f1">spi_lobo_host_t::hw</a>, <a class="el" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017">spi_lobo_device_deselect()</a>, and <a class="el" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202">spi_lobo_device_select()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>, <a class="el" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475">find_rd_speed()</a>, <a class="el" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb">read_data()</a>, and <a class="el" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85">TftDisplayBackend()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_cgraph.png" border="0" usemap="#spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_cgraph" alt=""/></div>
<map name="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_cgraph" id="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_cgraph">
<area shape="rect" id="node2" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017" title="De&#45;select spi device. " alt="" coords="191,5,361,32"/>
<area shape="rect" id="node3" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202" title="Select spi device for transmission. " alt="" coords="197,56,355,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_icgraph.png" border="0" usemap="#spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_icgraph" id="spi__master__lobo_8h_a7b9adfede36ff48e03fef4f4c7596bdb_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="495,5,574,32"/>
<area shape="rect" id="node3" href="tftspi_8h.html#a80ddf39857da193f67da800950e1a475" title="find_rd_speed" alt="" coords="317,43,420,69"/>
<area shape="rect" id="node4" href="_tft_display_backend_8c.html#ac2d4c980b150da51c7e5f73af22a4b85" title="TftDisplayBackend" alt="" coords="468,68,601,95"/>
<area shape="rect" id="node6" href="tftspi_8h.html#a2252ee1cee494c40c068461b6e1515eb" title="read_data" alt="" coords="191,144,269,171"/>
<area shape="rect" id="node5" href="class_content.html#af14b7b5ebc756686ecde73dc09b57c56" title="Content::Content" alt="" coords="649,68,772,95"/>
<area shape="rect" id="node7" href="tftspi_8h.html#a20c1d0980fa142fe20c1e42d056f3581" title="readPixel" alt="" coords="331,144,407,171"/>
<area shape="rect" id="node8" href="tft_8h.html#a19e34da8841ba77c1125143df95e8c8a" title="TFT_readPixel" alt="" coords="481,144,588,171"/>
</map>
</div>

</div>
</div>
<a id="afbd48c0566cfee5cdbefc612c65610b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd48c0566cfee5cdbefc612c65610b6">&#9670;&nbsp;</a></span>spi_lobo_setup_dma_desc_links()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lobo_setup_dma_desc_links </td>
          <td>(</td>
          <td class="paramtype">lldesc_t *&#160;</td>
          <td class="paramname"><em>dmadesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isrx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a DMA link chain. </p>
<p>This routine will set up a chain of linked DMA descriptors in the array pointed to by <code>dmadesc</code>. Enough DMA descriptors will be used to fit the buffer of <code>len</code> bytes in, and the descriptors will point to the corresponding positions in <code>buffer</code> and linked together. The end result is that feeding <code>dmadesc[0]</code> into DMA hardware results in the entirety <code>len</code> bytes of <code>data</code> being read or written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmadesc</td><td>Pointer to array of DMA descriptors big enough to be able to convey <code>len</code> bytes </td></tr>
    <tr><td class="paramname">len</td><td>Length of buffer </td></tr>
    <tr><td class="paramname">data</td><td>Data buffer to use for DMA transfer </td></tr>
    <tr><td class="paramname">isrx</td><td>True if data is to be written into <code>data</code>, false if it's to be read from <code>data</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a28d038c3b926bf899d56d94445224e91">SPI_MAX_DMA_LEN</a>.</p>

</div>
</div>
<a id="af9e4e3ab6395f45cc506d72b2b0329d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e4e3ab6395f45cc506d72b2b0329d9">&#9670;&nbsp;</a></span>spi_lobo_transfer_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t spi_lobo_transfer_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#structspi__lobo__transaction__t">spi_lobo_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transimit and receive data to/from spi device based on transaction data. </p>
<p>TRANSMIT 8-bit data to spi device from 'trans-&gt;tx_buffer' or 'trans-&gt;tx_data' (trans-&gt;lenght/8 bytes) and RECEIVE data to 'trans-&gt;rx_buffer' or 'trans-&gt;rx_data' (trans-&gt;rx_length/8 bytes) Lengths must be 8-bit multiples! If trans-&gt;rx_buffer is NULL or trans-&gt;rx_length is 0, only transmits data If trans-&gt;tx_buffer is NULL or trans-&gt;length is 0, only receives data If the device is in duplex mode (LB_SPI_DEVICE_HALFDUPLEX flag NOT set), data are transmitted and received simultaneously. If the device is in half duplex mode (LB_SPI_DEVICE_HALFDUPLEX flag IS set), data are received after transmission 'address', 'command' and 'dummy bits' are transmitted before data phase IF set in device's configuration and IF 'trans-&gt;length' and 'trans-&gt;rx_length' are NOT both 0 If device was not previously selected, it will be selected before transmission and deselected after transmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device</td></tr>
    <tr><td class="paramname">trans</td><td>Pointer to variable containing the description of the transaction that is executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_ERR_INVALID_ARG if parameter is invalid</li>
<li>ESP error code if device cannot be selected</li>
<li>ESP_OK on success </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#af14c72df38f19887bcf6482968671105">spi_lobo_transaction_t::address</a>, <a class="el" href="spi__master__lobo_8h.html#add097bb61cdf6e046d59186302e0ddfa">spi_lobo_device_interface_config_t::address_bits</a>, <a class="el" href="spi__master__lobo_8h.html#af2483849a2070b707c075ec237b272b5">spi_lobo_device_t::cfg</a>, <a class="el" href="spi__master__lobo_8h.html#ad60a4a4b03cbb3337c1b5439edd81636">spi_lobo_transaction_t::command</a>, <a class="el" href="spi__master__lobo_8h.html#a58cdcde9c930120466c738a14d6f6fab">spi_lobo_device_interface_config_t::flags</a>, <a class="el" href="spi__master__lobo_8h.html#a6b6eb10f485e993841a9246642d50b07">spi_lobo_transaction_t::flags</a>, <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, <a class="el" href="spi__master__lobo_8h.html#a9ce86f0c1a959b9144e03e96b84121f1">spi_lobo_host_t::hw</a>, <a class="el" href="spi__master__lobo_8h.html#a952154a78f2bbbd483a1d4a69e3a6e46">LB_SPI_DEVICE_HALFDUPLEX</a>, <a class="el" href="spi__master__lobo_8h.html#a56ea53b47e908cab01ca8e6b0ca49804">LB_SPI_TRANS_USE_RXDATA</a>, <a class="el" href="spi__master__lobo_8h.html#a8e005016d92b17a7d7fb1fed6f553567">LB_SPI_TRANS_USE_TXDATA</a>, <a class="el" href="spi__master__lobo_8h.html#a4658fb2c0af57630a9087ce797524b30">spi_lobo_transaction_t::length</a>, <a class="el" href="spi__master__lobo_8h.html#ab4fed50557ba4c272fc251a2899bec39">spi_lobo_device_interface_config_t::post_cb</a>, <a class="el" href="spi__master__lobo_8h.html#a376f3dd09a6ccae99ab3c47690152c6e">spi_lobo_device_interface_config_t::pre_cb</a>, <a class="el" href="spi__master__lobo_8h.html#a99c48756ddf104edc116ca2d7cbf3782">spi_lobo_transaction_t::rxlength</a>, <a class="el" href="spi__master__lobo_8h.html#a34a48bc1f9e3bd7f3a272484bed8cdc3">spi_lobo_device_interface_config_t::selected</a>, <a class="el" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017">spi_lobo_device_deselect()</a>, and <a class="el" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202">spi_lobo_device_select()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_af9e4e3ab6395f45cc506d72b2b0329d9_cgraph.png" border="0" usemap="#spi__master__lobo_8h_af9e4e3ab6395f45cc506d72b2b0329d9_cgraph" alt=""/></div>
<map name="spi__master__lobo_8h_af9e4e3ab6395f45cc506d72b2b0329d9_cgraph" id="spi__master__lobo_8h_af9e4e3ab6395f45cc506d72b2b0329d9_cgraph">
<area shape="rect" id="node2" href="spi__master__lobo_8c.html#af438dacab126c7341147bab887d3d017" title="De&#45;select spi device. " alt="" coords="207,5,377,32"/>
<area shape="rect" id="node3" href="spi__master__lobo_8c.html#accb77c930dad6f5b48cd33f969ee7202" title="Select spi device for transmission. " alt="" coords="213,56,371,83"/>
</map>
</div>

</div>
</div>
<a id="ab00be9c566e4805cb3007fd4b0e075c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00be9c566e4805cb3007fd4b0e075c3">&#9670;&nbsp;</a></span>spi_lobo_uses_native_pins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_lobo_uses_native_pins </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spi__master__lobo_8h.html#adb6083b952d07eedde7eef9b837b23ef">spi_lobo_device_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if spi bus uses native spi pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Device handle obtained using spi_lobo_bus_add_device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true if native spi pins are used</li>
<li>false if spi pins are routed through gpio matrix </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="spi__master__lobo_8h.html#a9186a9d112b03dedd3ec31713aba37ce">spi_lobo_device_t::host</a>, and <a class="el" href="spi__master__lobo_8h.html#a425ee2633d3a132b92715392741032f4">spi_lobo_host_t::no_gpio_matrix</a>.</p>

<p class="reference">Referenced by <a class="el" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36">app_main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__master__lobo_8h_ab00be9c566e4805cb3007fd4b0e075c3_icgraph.png" border="0" usemap="#spi__master__lobo_8h_ab00be9c566e4805cb3007fd4b0e075c3_icgraph" alt=""/></div>
<map name="spi__master__lobo_8h_ab00be9c566e4805cb3007fd4b0e075c3_icgraph" id="spi__master__lobo_8h_ab00be9c566e4805cb3007fd4b0e075c3_icgraph">
<area shape="rect" id="node2" href="tft__demo_8c.html#abce06be17fc37d675118a678a8100a36" title="app_main" alt="" coords="232,5,311,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2e432a94a446bdaf24f01884460e4388.html">HardwareLife</a></li><li class="navelem"><a class="el" href="dir_b9f7ad96a641eef2169d7ec2e0317c1c.html">Lcd</a></li><li class="navelem"><a class="el" href="dir_5cd0db305b0f4f965dd03c8af5bff79c.html">ESP32_TFT_library</a></li><li class="navelem"><a class="el" href="dir_a6c4c7cd388b468f9c3da35a800fb694.html">components</a></li><li class="navelem"><a class="el" href="dir_d028ae08222e37ad3de28e8b314b8106.html">spidriver</a></li><li class="navelem"><a class="el" href="spi__master__lobo_8h.html">spi_master_lobo.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
